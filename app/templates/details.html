{% extends "base.html" %}

{% block content %}
  
  <div class="row">
    <div class="col-md-6">
      <H3><b>Package name :</b> {{data['package_name']}}</H3>
    </div>
    <div class="col-md-6">
      <H3><b>Version :</b> {{data['package_version']}}</H3>
    </div>
    
    <div class="col-md-12">
      {% if workshop_name%}
        <H3><b>Workshop :</b> {{workshop_name}}</H3>
      {% else %}
        <H3><b>Workshop :</b> All workshops</H3>
      {% endif %}
    </div>
    

  </div>
  
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>Python Version</b></h3>
        </div>
        <div class="panel-body">
          <div id="python_users" style="height: 400px"></div>
          <button class="btn btn-primary col-md-12" type="button" data-toggle="collapse" data-target="#collapse_python_user" aria-expanded="false" aria-controls="collapse_python_user">
            Show in Tabular form </button>
          <div class="collapse" id="collapse_python_user">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Python version</th>
                  <th>Number of users</th>
                </tr>
              </thead>
              <tbody>
                {% for key, value in data['user_system_info']['python_version'].items() %}
                  <tr>    
                    <td>{{ key }}</td>
                    <td>{{ value }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>    
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>Operating System</b></h3>
        </div>
        <div class="panel-body">
          <div id="os_user_by_package" style="height: 400px"></div>
          <button class="btn btn-primary col-md-12" type="button" data-toggle="collapse" data-target="#collapse_os_user" aria-expanded="false" aria-controls="collapse_os_user">Show in Tabular form</button>
          <div class="collapse" id="collapse_os_user">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Operating System</th>
                  <th>Number of users</th>
                </tr>
              </thead>
              <tbody>
                {% for key, value in data['user_system_info']['system'].items() %}
                  <tr>
                    <td>{{ key }}</td>
                    <td>{{ value }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>Linux distributions</b></h3>
        </div>
        <div class="panel-body">
          <div id="os_user_dist_by_package" style="height: 400px"></div>
          <button class="btn btn-primary col-md-12" type="button" data-toggle="collapse" data-target="#collapse_os_dist_user" aria-expanded="false" aria-controls="collapse_os_dist_user">Show in Tabular form</button>
          <div class="collapse" id="collapse_os_dist_user">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Distribution name</th>
                  <th>Number of users</th>
                </tr>
              </thead>
              <tbody>
                {% for key, value in data['user_system_info']['distribution_name_version'].items() %}
                  <tr>    
                    <td>{{ key }}</td>
                    <td>{{ value }}</td>
                  </tr>
               {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <hr>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>Machines</b></h3>
        </div>
        <div class="panel-body">
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>Machines</th>
                <th>Number of users</th>
              </tr>
            </thead>
            <tbody>
              {% for key, value in data['user_system_info']['machine'].items() %}
                <tr>    
                  <td>{{ key }}</td>
                  <td>{{ value }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>  
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>System Version</b></h3>
        </div>
        <div class="panel-body">     
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>System version</th>
                <th>Number of users</th>
              </tr>
            </thead>
            <tbody>
              {% for key, value in data['user_system_info']['system_version'].items() %}
                <tr>    
                  <td>{{ key }}</td>
                  <td>{{ value }}</td>
                  </tr>
              {% endfor %}
            </tbody>
          </table> 
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-heading panel-heading-custom">
          <h3 class="panel-title text-center"><b>System Platform</b></h3>
        </div>
        <div class="panel-body">      
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>Platform</th>
                <th>Number of users</th>
              </tr>
            </thead>
            <tbody>
              {% for key, value in data['user_system_info']['system_platform'].items() %}
                <tr>    
                  <td>{{ key }}</td>
                  <td>{{ value }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>    
        </div>
      </div>
    </div>
  </div>

  <hr >

  <script type="text/javascript">
    func_python_users({{data['user_system_info']['python_version']|tojson}});
    func_os_user_for_package({{data['user_system_info']['system']|tojson}});
    func_os_user_dist_for_package({{data['user_system_info']['distribution_name_version']|tojson}});
  </script>

{% endblock %}